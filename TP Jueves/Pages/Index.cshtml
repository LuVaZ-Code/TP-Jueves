@page
@model TP_Jueves.Pages.IndexModel
@{
    ViewData["Title"] = "Inicio";
}

<!-- HERO SECTION -->
<section class="hero">
    <h1>TP Jueves</h1>
    <p>Sistema de Reservas de Restaurantes</p>
</section>

@if (User?.Identity?.IsAuthenticated ?? false)
{
    @if (User.IsInRole("Restaurantero"))
    {
        <!-- VISTA RESTAURANTERO -->
        <div class="feature-cards">
            <div class="feature-card">
                <span class="icon">??</span>
                <h3>Mis Restaurantes</h3>
                <p>Gestiona tus restaurantes, mesas y reservas.</p>
                <a asp-page="/Restaurants/Index" class="btn btn-primary">Ir a Restaurantes</a>
            </div>

            <div class="feature-card">
                <span class="icon">??</span>
                <h3>Mi Perfil</h3>
                <p>Edita tu informacion personal.</p>
                <a asp-page="/Account/Profile" class="btn btn-secondary">Ir a Perfil</a>
            </div>

            <div class="feature-card">
                <span class="icon">??</span>
                <h3>Estadisticas</h3>
                <p>Proxima funcionalidad: Ver reportes de reservas.</p>
                <button class="btn btn-secondary" disabled>Proximamente</button>
            </div>
        </div>
    }
    else if (User.IsInRole("Cliente"))
    {
        <!-- VISTA CLIENTE -->
        <div class="feature-cards">
            <div class="feature-card">
                <span class="icon">???</span>
                <h3>Buscar Restaurante</h3>
                <p>Descubre y reserve en nuestros restaurantes asociados.</p>
                <a asp-page="/Restaurants/Browse" class="btn btn-primary">Ver Restaurantes</a>
            </div>

            <div class="feature-card">
                <span class="icon">??</span>
                <h3>Mis Reservas</h3>
                <p>Ver, gestionar y cancelar tus reservas.</p>
                <a asp-page="/Reservations/List" class="btn btn-info">Ver Mis Reservas</a>
            </div>

            <div class="feature-card">
                <span class="icon">??</span>
                <h3>Mi Perfil</h3>
                <p>Edita tu informacion personal.</p>
                <a asp-page="/Account/Profile" class="btn btn-secondary">Ir a Perfil</a>
            </div>
        </div>
    }
}
else
{
    <!-- VISTA USUARIO NO AUTENTICADO -->
    <div style="text-align: center; padding: 3rem 1rem;">
        <div class="alert alert-info mb-4" role="alert" style="border-radius: 12px; font-size: 1.1rem;">
            Para continuar, debes <strong>iniciar sesion</strong> o <strong>crear una cuenta</strong>.
        </div>

        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; margin-bottom: 3rem;">
            <a asp-page="/Account/Login" class="btn btn-primary btn-lg">Ingresar</a>
            <a asp-page="/Account/Register" class="btn btn-success btn-lg">Registrarse</a>
        </div>
    </div>

    <!-- CARACTERISTICAS -->
    <h2 style="text-align: center; color: #2c3e50; margin: 3rem 0 2rem; font-weight: 700;">Por que elegir TP Jueves?</h2>
    <div class="feature-cards">
        <div class="feature-card">
            <span class="icon">?</span>
            <h3>Rapido y Facil</h3>
            <p>Reserva en segundos sin complicaciones. Solo necesitas algunos datos basicos.</p>
        </div>

        <div class="feature-card">
            <span class="icon">??</span>
            <h3>Seguro</h3>
            <p>Tus datos estan protegidos con los mas altos estandares de seguridad.</p>
        </div>

        <div class="feature-card">
            <span class="icon">??</span>
            <h3>Accesible</h3>
            <p>Reserva desde cualquier dispositivo, en cualquier momento y lugar.</p>
        </div>

        <div class="feature-card">
            <span class="icon">??</span>
            <h3>Confirmacion</h3>
            <p>Recibe confirmacion inmediata de tu reserva al completar el formulario.</p>
        </div>

        <div class="feature-card">
            <span class="icon">??</span>
            <h3>Gestiona</h3>
            <p>Modifica o cancela tus reservas cuando lo necesites desde tu cuenta.</p>
        </div>

        <div class="feature-card">
            <span class="icon">???????????</span>
            <h3>Grupos</h3>
            <p>Realiza reservas para grupos de hasta 20 personas con especificaciones dieteticas.</p>
        </div>
    </div>
}
